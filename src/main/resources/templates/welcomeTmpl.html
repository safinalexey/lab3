<div th:fragment="welcomeMessage">
	<!-- Nav tabs -->
<ul class="nav nav-tabs">
  <li class="active"><a href="#home" data-toggle="tab">Болезни</a></li>
  <li><a href="#profile" data-toggle="tab">Органы</a></li>
  <li><a href="#messages" data-toggle="tab">Лекарства</a></li>
</ul>
<!-- Tab panes -->
<div class="tab-content">
  <div class="tab-pane active" id="home">
    <button type="button" class="btn btn-primary" style="margin: 20px 0;" data-toggle="modal" data-target="#myModal">Добавить экземпляр</button>
    <!-- Modal start-->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">Добавление объекта</h4>
                </div>
                <div class="modal-body">
                    <form class="form-inline" role="form" accept-charset="UTF-8">
                        <div class="form-group">
                            <label for="indName">Имя объекта</label>
                            <input type="text" class="form-control" id="indName"/>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Закрыть</button>
                    <button type="button" class="btn btn-primary" id="addNewInd">Добавить</button>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
    $(document).ready(function(){
        $('#addNewInd').on('click', function(e){
            e.preventDefault()
            ontClass = 'Disease'
            name = $('#indName').val()
            url = '/add/'+ontClass+'/'+name
            $.post(url, function(data){
                if(data=='ok'){
                    $('#myModal').modal('hide')
                    $('<tr><td></td><td>'+name+'</td><td></td></tr>').insertAfter('.diseaseLine')
                }
            })

        })
    })
    </script>
    <!-- Modal end-->
  	<table class="table table-bordered table-hover" th:fragment="listdisease">
    <tr class="diseaseLine">
        <th class="col-md-1"></th>
        <th class="col-md-9">Имя</th>
        <th class="col-md-1">Редактирование</th>
        <th class="col-md-1">Удаление</th>
    </tr>
    <tr th:each="disease : ${diseaseIndividuals}">
        <td></td>
        <td th:text="${disease}">
        </td>
        <td>
            <a type="button" class="btn btn-success" data-name="Disease" th:href="@{/edit/}+${disease}">Редактировать</a>
        </td>
        <td>
            <a type="button" class="btn btn-danger" data-name="Disease" th:href="${disease}">Удалить</a>
        </td>
    </tr>
	</table>
  </div>
  <div class="tab-pane" id="profile">
    <button type="button" class="btn btn-primary" style="margin: 20px 0;" data-toggle="modal" data-target="#myModal2">Добавить экземпляр</button>
    <!-- Modal start-->
    <div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">Добавление объекта</h4>
                </div>
                <div class="modal-body">
                    <form class="form-inline" role="form" accept-charset="UTF-8">
                        <div class="form-group">
                            <label for="indName2">Имя объекта</label>
                            <input type="text" class="form-control" id="indName2"/>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Закрыть</button>
                    <button type="button" class="btn btn-primary" id="addNewInd2">Добавить</button>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
    $(document).ready(function(){
        $('#addNewInd2').on('click', function(e){
            e.preventDefault()
            ontClass = 'Organ'
            name = $('#indName2').val()
            url = '/add/'+ontClass+'/'+name
            $.post(url, function(data){
                if(data=='ok'){
                    $('#myModal2').modal('hide')
                    $('<tr><td></td><td>'+name+'</td><td></td></tr>').insertAfter('.organLine')
                }
            })

        })
    })
    </script>
    <!-- Modal end-->
	<table class="table table-bordered table-hover" th:fragment="listorgan">
    <tr class="organLine">
        <th class="col-md-1"></th>
        <th class="col-md-9">Имя</th>
        <th class="col-md-1">Удаление</th>
    </tr>
    <tr th:each="organ : ${organIndividuals}">
        <td></td>
        <td th:text="${organ}"></td>
        <td>
            <a type="button" class="btn btn-danger" th:href="${organ}">Удалить</a>
        </td>
    </tr>
	</table>
  </div>
  <div class="tab-pane" id="messages">
    <button type="button" class="btn btn-primary" style="margin: 20px 0;" data-toggle="modal" data-target="#myModal3">Добавить экземпляр</button>
    <!-- Modal start-->
    <div class="modal fade" id="myModal3" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal3" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">Добавление объекта</h4>
                </div>
                <div class="modal-body">
                    <form class="form-inline" role="form" accept-charset="UTF-8">
                        <div class="form-group">
                            <label for="indName3">Имя объекта</label>
                            <input type="text" class="form-control" id="indName3"/>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal3">Закрыть</button>
                    <button type="button" class="btn btn-primary" id="addNewInd3">Добавить</button>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
    $(document).ready(function(){
        $('#addNewInd3').on('click', function(e){
            e.preventDefault()
            ontClass = 'Medicine'
            name = $('#indName3').val()
            url = '/add/'+ontClass+'/'+name
            $.post(url, function(data){
                if(data=='ok'){
                    $('#myModal3').modal('hide')
                    $('<tr><td></td><td>'+name+'</td><td></td></tr>').insertAfter('.medicineLine')
                }
            })

        })
    })
    </script>
    <!-- Modal end-->
	<table class="table table-bordered table-hover" th:fragment="listmedicine">
    <tr class="medicineLine">
        <th class="col-md-1"></th>
        <th class="col-md-9">Имя</th>
        <th class="col-md-1">Удаление</th>
    </tr>
    <tr th:each="medicine : ${medicineIndividuals}">
        <td></td>
        <td th:text="${medicine}"></td>
        <td>
            <a type="button" class="btn btn-danger" th:href="${medicine}">Удалить</a>
        </td>
    </tr>
	</table>
  </div>
</div>
<hr />
<div style="clear:both"></div>
<button type="button" class="btn btn-success" id="save" data-container="body" data-toggle="popover" data-placement="right" data-content="Онтология сохранена">Сохранить</button>
<script type="text/javascript">
    $(document).ready(function(){
        $('#save').on('click', function(){
            console.log('click')
            $.post('/save', function(data){
                console.log(data)
                if(data=='ok'){
                    $('#save').popover('show')
                    setTimeout("$('#save').popover('hide')", 1500)
                }
            })
                .fail(function(data) {
                    console.log(data)
                })
            })

        $('.btn-danger').on('click', function(e){
            e.preventDefault()
            lineToDel = $(this).parent().parent()
            $.post('/delete/'+$(this).attr('href'), function(data){
                if (data=='ok'){
                    lineToDel.detach()
                }
            })
        })
    })
</script>
</div>